CREATE DATABASE BD_GAMES_PHP;
USE BD_GAMES_PHP;

# Tabla GAMES
CREATE TABLE GAMES (
    ID INT AUTO_INCREMENT PRIMARY KEY,
    NOMBRE VARCHAR(100) NOT NULL,
    PLATAFORMA VARCHAR(50)
);

# Tabla PLAYERS
CREATE TABLE PLAYERS (
    ID INT AUTO_INCREMENT PRIMARY KEY,
    ALIAS VARCHAR(50) NOT NULL,
    NOMBRE VARCHAR(100) NOT NULL,
    NIVEL INT
);

# Tabla PARTIDAS
CREATE TABLE PARTIDAS (
    ID INT AUTO_INCREMENT PRIMARY KEY,
    ID_GAME INT,
    ID_PLAYER1 INT,
    ID_PLAYER2 INT,
    NOMBRE VARCHAR(50) NOT NULL,
    TIEMPO INT,
    FOREIGN KEY (ID_GAME) REFERENCES GAMES(ID) ON DELETE CASCADE,
    FOREIGN KEY (ID_PLAYER1) REFERENCES PLAYERS(ID) ON DELETE CASCADE,
    FOREIGN KEY (ID_PLAYER2) REFERENCES PLAYERS(ID) ON DELETE CASCADE
);
